<html>
  <head>
    <script src="falcor.browser.js"></script>
    <script>
      var model = new falcor.Model({source: new falcor.HttpDataSource('/model.json') });

      var jlog = function(x) { console.log(JSON.stringify(x, null, 3)); };
      var jerror = function(x) { console.error(JSON.stringify(x, null, 3)); };

    
      // > Get general info about the registry (name, version)
      //  model.get("registryInfo").then(function(response) {
      //   document.write(response.json.registryInfo.name);
      // });


      // > Get total amount of packages in the registry
      // model.get("packages.length").then(function(response) {
      //   document.write(response.json.packages.length);
      // });
  
  
      // Create new package, providing name and url

      // model.get("packages.byName.testing123").then(jlog, jerror);
      // model.call(["packages", "create", "testing123", "git://github.com/BenMann/testrepo"]).then(jlog, jerror);
      // model.call(["packages", "remove", "testing123"]).then(jlog, jerror);


      // model.call(["packages", "byName", "create", "yoooho", "git://github.com/BenMann/testrepo.git"]).then(jlog, jerror);
      // model.call(["packages", "byName", "remove", "yoooho"]).then(jlog, jerror);
      //  console.log("remove: ")
        
          // console.log("GET: ");
          model.get(["packages", "byName", "yoooho"]).then(jlog, jerror);
        // });
      // });

      

    </script>
  </head>
  <body>
  </body>
</html>